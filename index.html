<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Turno Simples</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #2c3e50;
            color: #ecf0f1;
        }

        .game-container {
            background-color: #34495e;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            text-align: center;
            width: 90%;
            max-width: 600px;
            position: relative; /* Para o modal */
        }

        h1 {
            margin-bottom: 20px;
        }

        .battlefield {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            margin: 20px 0;
        }

        .character-box {
            background-color: #4a627a;
            padding: 15px;
            border-radius: 8px;
            min-width: 200px;
        }

        .health-bar-container {
            background-color: #7f8c8d;
            height: 20px;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .health-bar {
            height: 100%;
            width: 100%; /* Começa com 100% de vida */
            background-color: #e74c3c;
            transition: width 0.5s ease-in-out;
        }

        .log {
            background-color: #2c3e50;
            padding: 10px;
            border-radius: 5px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
        }

        .controls {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        button {
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            color: white;
            background-color: #3498db;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #2980b9;
        }

        #info-btn {
            background-color: #f1c40f;
        }

        #info-btn:hover {
            background-color: #f39c12;
        }

        .hidden {
            display: none;
        }

        /* Estilos do Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background-color: #34495e;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            max-width: 500px;
            text-align: left;
            position: relative;
        }

        .modal-content h3 {
            border-bottom: 2px solid #5b7591;
            padding-bottom: 10px;
        }

        .close-modal-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5em;
            font-weight: bold;
            cursor: pointer;
            border: none;
            background: none;
            color: white;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>Jogo de Batalha</h1>
        
        <div class="battlefield">
            <div class="character-box player">
                <h2 id="player-name">Herói</h2>
                <div class="health-bar-container">
                    <div id="player-health-bar" class="health-bar"></div>
                </div>
                <p id="player-health-text">Vida: 100/100</p>
            </div>
            
            <div class="character-box enemy">
                <h2 id="enemy-name">Orc</h2>
                <div class="health-bar-container">
                    <div id="enemy-health-bar" class="health-bar"></div>
                </div>
                <p id="enemy-health-text">Vida: 100/100</p>
            </div>
        </div>
        
        <div class="log">
            <p id="game-log">A batalha começou! É sua vez.</p>
        </div>
        
        <div class="controls">
            <button id="attack-btn">Atacar!</button>
            <button id="restart-btn" class="hidden">Reiniciar</button>
            <button id="info-btn">O que é isso?</button>
        </div>
    </div>

    <div id="info-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button class="close-modal-btn">&times;</button>
            <h3>Como Funciona o Jogo?</h3>
            <p>Este é um jogo de batalha simples e por turnos.</p>
            <ul>
                <li><strong>Barras de Vida:</strong> As barras vermelhas mostram a saúde do Herói (à esquerda) e do Orc (à direita). A vida máxima é 100.</li>
                <li><strong>Log de Batalha:</strong> A caixa preta no centro mostra o que acontece a cada turno.</li>
                <li><strong>Botões de Controle:</strong>
                    <ul>
                        <li><strong>Atacar!:</strong> Inicia seu turno e causa dano ao inimigo.</li>
                        <li><strong>Reiniciar:</strong> Reinicia o jogo quando a batalha termina.</li>
                        <li><strong>O que é isso?:</strong> Exibe esta explicação.</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <script>
        // Referências aos elementos do DOM
        const playerHealthBar = document.getElementById('player-health-bar');
        const playerHealthText = document.getElementById('player-health-text');
        const enemyHealthBar = document.getElementById('enemy-health-bar');
        const enemyHealthText = document.getElementById('enemy-health-text');
        const gameLog = document.getElementById('game-log');
        const attackBtn = document.getElementById('attack-btn');
        const restartBtn = document.getElementById('restart-btn');

        // Referências aos novos elementos do modal
        const infoBtn = document.getElementById('info-btn');
        const infoModal = document.getElementById('info-modal');
        const closeModalBtn = document.querySelector('.close-modal-btn');

        // Variáveis do jogo
        const maxHealth = 100;
        let playerHealth;
        let enemyHealth;
        let isPlayerTurn = true;
        let gameOver = false;

        // Função para atualizar a interface gráfica
        function updateUI() {
            // Atualiza a barra de vida e o texto do jogador
            const playerHealthPercentage = (playerHealth / maxHealth) * 100;
            playerHealthBar.style.width = playerHealthPercentage + '%';
            playerHealthText.textContent = `Vida: ${playerHealth}/${maxHealth}`;

            // Atualiza a barra de vida e o texto do inimigo
            const enemyHealthPercentage = (enemyHealth / maxHealth) * 100;
            enemyHealthBar.style.width = enemyHealthPercentage + '%';
            enemyHealthText.textContent = `Vida: ${enemyHealth}/${maxHealth}`;
        }

        // Função para exibir mensagens no log do jogo
        function logMessage(message) {
            gameLog.textContent = message;
        }

        // Função para verificar se o jogo terminou
        function checkGameOver() {
            if (playerHealth <= 0) {
                logMessage("Você foi derrotado! Fim de jogo.");
                gameOver = true;
            } else if (enemyHealth <= 0) {
                logMessage("Você venceu! O orc foi derrotado!");
                gameOver = true;
            }

            if (gameOver) {
                attackBtn.classList.add('hidden');
                restartBtn.classList.remove('hidden');
            }
        }

        // Lógica do turno do jogador
        function playerAttack() {
            if (!isPlayerTurn || gameOver) return;

            // Causa dano aleatório no inimigo (entre 10 e 20)
            const damage = Math.floor(Math.random() * 11) + 10;
            enemyHealth -= damage;
            logMessage(`Você atacou o Orc e causou ${damage} de dano!`);

            // Garante que a vida não fique abaixo de zero
            if (enemyHealth < 0) enemyHealth = 0;

            updateUI();
            checkGameOver();

            // Passa o turno para o inimigo após um pequeno atraso
            isPlayerTurn = false;
            setTimeout(enemyAttack, 1500);
        }

        // Lógica do turno do inimigo
        function enemyAttack() {
            if (gameOver) return;

            // Causa dano aleatório no jogador (entre 5 e 15)
            const damage = Math.floor(Math.random() * 11) + 5;
            playerHealth -= damage;
            logMessage(`O Orc atacou e causou ${damage} de dano!`);

            // Garante que a vida não fique abaixo de zero
            if (playerHealth < 0) playerHealth = 0;

            updateUI();
            checkGameOver();

            // Passa o turno de volta para o jogador
            isPlayerTurn = true;
            logMessage("É a sua vez!");
        }

        // Função para iniciar ou reiniciar o jogo
        function startGame() {
            playerHealth = maxHealth;
            enemyHealth = maxHealth;
            isPlayerTurn = true;
            gameOver = false;
            
            updateUI();
            logMessage("A batalha começou! É sua vez.");
            
            attackBtn.classList.remove('hidden');
            restartBtn.classList.add('hidden');
        }

        // Funções para o modal de informações
        function toggleInfoModal() {
            infoModal.classList.toggle('hidden');
        }

        // Adiciona os eventos aos botões
        attackBtn.addEventListener('click', playerAttack);
        restartBtn.addEventListener('click', startGame);
        infoBtn.addEventListener('click', toggleInfoModal);
        closeModalBtn.addEventListener('click', toggleInfoModal);

        // Inicia o jogo quando a página carrega
        startGame();
    </script>
</body>
</html>
